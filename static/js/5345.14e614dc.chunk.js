"use strict";(self.webpackChunkdue_diligence_react=self.webpackChunkdue_diligence_react||[]).push([[5345],{64145:function(e,r,t){t.d(r,{BH:function(){return w},K:function(){return F},KC:function(){return m},NL:function(){return s},QI:function(){return g},Tg:function(){return v},Yx:function(){return f},nb:function(){return V},wF:function(){return S},xQ:function(){return p}});var n=t(29439),a=t(43404),i=t(92026),o=t(96212),l=t(17314),u=new Map;u.set("meter-per-second",1),u.set("kilometer-per-hour",.277778),u.set("knots",.514444),u.set("feet-per-second",.3048),u.set("mile-per-hour",.44704);var h=180/Math.PI,s=new a.X({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function f(e,r){return u.get(e)/u.get(r)||1}function c(e){return(450-e)%360}function v(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",t=(0,n.Z)(e,2),a=t[0],i=t[1],o=Math.sqrt(a*a+i*i),l=Math.atan2(i,a)*h;return l=(360+l)%360,"geographic"===r&&(l=c(l)),[o,l]}function d(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",t=e[1];"geographic"===r&&(t=c(t)),t%=360;var n=e[0];return[n*Math.cos(t/h),n*Math.sin(t/h)]}function p(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"geographic";if(!(0,l.nk)(e)||(0,i.Wi)(t))return e;for(var a="vector-magdir"===r?e.clone():(0,i.Wg)(m(e,r)),o=a.pixels[1],u=0;u<o.length;u++)o[u]="geographic"===n?(o[u]+t[u]+270)%360:(o[u]+360-t[u])%360;return"vector-magdir"===r?a:m(a,"vector-magdir")}function m(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"geographic",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!(0,l.nk)(e))return e;for(var i=e.pixels,u=e.width,h=e.height,s=u*h,f=i[0],c=i[1],p=e.pixelType.startsWith("f")?e.pixelType:"f32",m=o.Z.createEmptyBand(p,s),g=o.Z.createEmptyBand(p,s),w=0,x=0;x<h;x++)for(var y=0;y<u;y++){var M,Z,k,b;"vector-uv"===r?(M=v([f[w],c[w]],t),Z=(0,n.Z)(M,2),m[w]=Z[0],g[w]=Z[1],m[w]*=a):(k=d([f[w],c[w]],t),b=(0,n.Z)(k,2),m[w]=b[0],g[w]=b[1],m[w]*=a,g[w]*=a),w++}var I=new o.Z({pixelType:p,width:e.width,height:e.height,mask:e.mask,validPixelCount:e.validPixelCount,maskIsAlpha:e.maskIsAlpha,pixels:[m,g]});return I.updateStatistics(),I}function g(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(1===t||!(0,l.nk)(e))return e;for(var n=e.clone(),a=n.pixels,i=n.width,o=n.height,u=a[0],h=a[1],s=0,f=0;f<o;f++)for(var c=0;c<i;c++)"vector-uv"===r?(u[s]*=t,h[s]*=t):u[s]*=t,s++;return n.updateStatistics(),n}function w(e,r,t,n,a){if((0,i.Wi)(a)||!a.spatialReference.equals(e.spatialReference))return{extent:e,width:Math.round(r/n),height:Math.round(t/n),resolution:e.width/r};var o=a.xmin,l=a.ymax,u=(e.xmax-e.xmin)/r*n,h=(e.ymax-e.ymin)/t*n,s=(u+h)/2;return e.xmin=o+Math.floor((e.xmin-o)/u)*u,e.xmax=o+Math.ceil((e.xmax-o)/u)*u,e.ymin=l+Math.floor((e.ymin-l)/h)*h,e.ymax=l+Math.ceil((e.ymax-l)/h)*h,{extent:e,width:Math.round(e.width/u),height:Math.round(e.height/h),resolution:s}}var x=y(0,0,0);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.PI,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];a&&(t=(2*Math.PI-t)%(2*Math.PI));var i=a?-1:1,o=13*i,l=-7*i,u=-2*i,h=-16*i,s=21.75,f=Z(0,r+o,t,s),c=(0,n.Z)(f,2),v=c[0],d=c[1],p=Z(e-5.5,r+l,t,s),m=(0,n.Z)(p,2),g=m[0],w=m[1],x=Z(e+5.5,r+l,t,s),y=(0,n.Z)(x,2),M=y[0],k=y[1],b=Z(e-1.5,r+u,t,s),I=(0,n.Z)(b,2),A=I[0],P=I[1],D=Z(e+1.5,r+u,t,s),F=(0,n.Z)(D,2),S=F[0],V=F[1],_=Z(e-1.5,r+h,t,s),U=(0,n.Z)(_,2),q=U[0],L=U[1],T=Z(e+1.5,r+h,t,s),O=(0,n.Z)(T,2),C=O[0],N=O[1];return[v,d,g,w,A,P,S,V,M,k,q,L,C,N]}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&(r=(2*Math.PI-r)%(2*Math.PI));var a=10,i=t?-1:1,o=5*i,l=20*i,u=25*i,h=45,s=0,f=0,c=2,v=0,d=c*i,p=t?1:-1,m=a/2*p,g=s+m,w=f-l,x=g+c*p,y=w,M=x-v*p,k=y+d,b=s-m,I=f-u,A=b+v*p,P=I-d,D=Math.ceil(e/5),F=Math.floor(D/10);D-=8*F;for(var S=[],V=[],_=0;_<D/2;_++,F--){F<=0&&D%2==1&&_===(D-1)/2&&(A=(b=s)+v*p,P=(I=(I+w)/2)-d);var U=Z(b,I,r,h),q=(0,n.Z)(U,2),L=q[0],T=q[1];if(F>0){var O=Z(x,I,r,h),C=(0,n.Z)(O,2),N=C[0],W=C[1],B=Z(g,w,r,h),K=(0,n.Z)(B,2),E=K[0],R=K[1];S.push(N),S.push(W),S.push(L),S.push(T),S.push(E),S.push(R)}else{var J=Z(x,y,r,h),H=(0,n.Z)(J,2),Q=H[0],X=H[1],j=Z(M,k,r,h),z=(0,n.Z)(j,2),G=z[0],Y=z[1],$=Z(A,P,r,h),ee=(0,n.Z)($,2),re=ee[0],te=ee[1];V.push(L),V.push(T),V.push(re),V.push(te),V.push(G),V.push(Y),V.push(Q),V.push(X)}I+=o,w+=o,y+=o,k+=o,P+=o}var ne=Z(s+m,f+l,r,h),ae=(0,n.Z)(ne,2),ie=ae[0],oe=ae[1],le=(a/2+c)*p,ue=Z(s+le,f+l,r,h),he=(0,n.Z)(ue,2),se=he[0],fe=he[1],ce=Z(s+m,f-u,r,h),ve=(0,n.Z)(ce,2),de=ve[0],pe=ve[1],me=Z(s+le,f-u,r,h),ge=(0,n.Z)(me,2),we=ge[0],xe=ge[1];return{pennants:S,barbs:V,shaft:[ie,oe,se,fe,de,pe,we,xe]}}function Z(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=Math.sqrt(e*e+r*r)/n,i=(2*Math.PI+Math.atan2(r,e))%(2*Math.PI);return[a,(2*Math.PI+i-t)%(2*Math.PI)]}var k=[0,1,3,6,10,16,21,27,33,40,47,55,63],b=[0,.5,1,1.5,2],I=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function A(e,r,t,n){var a,i=f(n||"knots",t);for(a=1;a<r.length;a++)if(a===r.length-1){if(e<r[a]*i)break}else if(e<=r[a]*i)break;return Math.min(a-1,r.length-2)}function P(e,r,t,n,a){var i=0;switch(r){case"beaufort_kn":i=A(e,k,"knots",t);break;case"beaufort_km":i=A(e,k,"kilometer-per-hour",t);break;case"beaufort_ft":i=A(e,k,"feet-per-second",t);break;case"beaufort_m":i=A(e,k,"meter-per-second",t);break;case"classified_arrow":i=A(e,null!==a&&void 0!==a?a:[],n,t);break;case"ocean_current_m":i=A(e,b,"meter-per-second",t);break;case"ocean_current_kn":i=A(e,I,"knots",t)}return i}var D=[];function F(e,r){for(var t=0,n=0,a=e.width,i=e.height,o=e.mask,l=e.pixels[0],u=[],h=[],c=f(s.fromJSON(r.inputUnit),"knots"),v="wind_speed"===r.style?5:Number.MAX_VALUE,d=0;d<i;d++)for(var p=0;p<a;p++){var m=l[d*a+p]*c;if((!o||o[d*a+p])&&m<v){for(var g=0;g<4;g++)u[t++]=(p+.5)/a,u[t++]=(d+.5)/i,u[t++]=g<2?-.5:.5,u[t++]=g%2==0?-.5:.5,u[t++]=0,u[t++]=m;var w=4*(t/24-1);h[n++]=w,h[n++]=w+1,h[n++]=w+2,h[n++]=w+1,h[n++]=w+2,h[n++]=w+3}}return{vertexData:new Float32Array(u),indexData:new Uint32Array(h)}}function S(e,r){return"simple_scalar"===r.style?F(e,r):"wind_speed"===r.style?function(e,r){if(0===D.length)for(var t=0;t<30;t++)D.push(M(5*t,0,!r.invertDirection));for(var n=f(s.fromJSON(r.inputUnit),"knots"),a=e.width,i=e.height,o=e.mask,l=e.pixels[0],u=e.pixels[1],h=[],c=[],v=0,d=0,p=0;p<i;p++)for(var m=0;m<a;m++){var g=p*a+m,w=l[g]*n;if((!o||o[p*a+m])&&w>=5){var x=(u[g]+360)%360/180*Math.PI,y=D[Math.min(Math.floor(w/5),29)],Z=y.pennants,k=y.barbs,b=y.shaft;if(Z.length+k.length===0)continue;for(var I=h.length/6,A=(m+.5)/a,P=(p+.5)/i,F=0;F<Z.length;F+=2)h[v++]=A,h[v++]=P,h[v++]=Z[F],h[v++]=Z[F+1]+x,h[v++]=0,h[v++]=w;for(var S=0;S<k.length;S+=2)h[v++]=A,h[v++]=P,h[v++]=k[S],h[v++]=k[S+1]+x,h[v++]=0,h[v++]=w;for(var V=0;V<b.length;V+=2)h[v++]=A,h[v++]=P,h[v++]=b[V],h[v++]=b[V+1]+x,h[v++]=0,h[v++]=w;for(var _=0;_<Z.length/6;_++)c[d++]=I,c[d++]=I+1,c[d++]=I+2,I+=3;for(var U=0;U<k.length/8;U++)c[d++]=I,c[d++]=I+1,c[d++]=I+2,c[d++]=I+1,c[d++]=I+2,c[d++]=I+3,I+=4;c[d++]=I+0,c[d++]=I+1,c[d++]=I+2,c[d++]=I+1,c[d++]=I+3,c[d++]=I+2,I+=4}}return{vertexData:new Float32Array(h),indexData:new Uint32Array(c)}}(e,r):function(e,r){for(var t=r.style,n=r.inputUnit,a=r.outputUnit,o=r.breakValues,l=s.fromJSON(n),u=s.fromJSON(a),h=0,f=0,c=e.width,v=e.height,d=e.mask,p=e.pixels[0],m=e.pixels[1],g=(0,i.pC)(d)?d.filter((function(e){return e>0})).length:c*v,w=new Float32Array(42*g),M=new Uint32Array(15*g),Z=r.invertDirection?y(0,0,0,!1):x,k=0;k<v;k++)for(var b=0;b<c;b++){var I=k*c+b;if(!d||d[k*c+b]){for(var A=(m[I]+360)%360/180*Math.PI,D=P(p[I],t,l,u,o),F=0;F<Z.length;F+=2)w[h++]=(b+.5)/c,w[h++]=(k+.5)/v,w[h++]=Z[F],w[h++]=Z[F+1]+A,w[h++]=D,w[h++]=p[I];var S=7*(h/42-1);M[f++]=S,M[f++]=S+1,M[f++]=S+2,M[f++]=S+0,M[f++]=S+4,M[f++]=S+3,M[f++]=S+0,M[f++]=S+2,M[f++]=S+3,M[f++]=S+2,M[f++]=S+5,M[f++]=S+3,M[f++]=S+5,M[f++]=S+6,M[f++]=S+3}}return{vertexData:w,indexData:M}}(e,r)}function V(e,r,t){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,l=e.width,u=e.height,h=e.mask,s=(0,n.Z)(e.pixels,2),f=s[0],c=s[1],p=(0,n.Z)(a,2),m=p[0],g=p[1],w=Math.round((l-m)/t),x=Math.round((u-g)/t),y=w*x,M=new Float32Array(y),Z=new Float32Array(y),k=new Uint8Array(y),b="vector-uv"===r,I=0;I<x;I++)for(var A=0;A<w;A++){for(var P=0,D=I*w+A,F=Math.max(0,I*t+g),S=Math.max(0,A*t+m),V=Math.min(u,F+t),_=Math.min(l,S+t),U=F;U<V;U++)for(var q=S;q<_;q++){var L=U*l+q;if(!h||h[L]){P++;var T=b?[f[L],c[L]]:[f[L],(360+c[L])%360],O=b?T:d(T),C=(0,n.Z)(O,2),N=C[0],W=C[1];M[D]+=N,Z[D]+=W}}if(P>=(V-F)*(_-S)*(1-i)){k[D]=1;var B=v([M[D]/P,Z[D]/P]),K=(0,n.Z)(B,2),E=K[0],R=K[1];M[D]=E,Z[D]=R}else k[D]=0,M[D]=0,Z[D]=0}var J=new o.Z({width:w,height:x,pixels:[M,Z],mask:k});return J.updateStatistics(),J}},55185:function(e,r,t){t.d(r,{GE:function(){return m},KK:function(){return I}});var n=t(74165),a=t(37762),i=t(29439),o=t(15861),l=(t(59486),t(93169)),u=t(32718),h=t(16889),s=t(92026),f=t(66978),c=t(84936),v=t(92975),d=t(53866),p=u.Z.getLogger("esri.views.2d.engine.flow.dataUtils");function m(e,r,t,n){return g.apply(this,arguments)}function g(){return g=(0,o.Z)((0,n.Z)().mark((function e(r,t,a,i){var o,u,h,s,c,v,d,m,g;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=performance.now(),u=w(t,a),h=performance.now(),s=y(t,u,a.width,a.height),c=performance.now(),v=M(s,!0),d=performance.now(),m="Streamlines"===r?Z(v,10):k(v),g=performance.now(),(0,l.Z)("esri-2d-profiler")&&(p.info("I.1","_createFlowFieldFromData (ms)",Math.round(h-o)),p.info("I.2","_getStreamlines (ms)",Math.round(c-h)),p.info("I.3","createAnimatedLinesData (ms)",Math.round(d-c)),p.info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(g-d)),p.info("I.5","createFlowMesh (ms)",Math.round(g-o)),p.info("I.6","Mesh size (bytes)",m.vertexData.buffer.byteLength+m.indexData.buffer.byteLength)),e.next=4,Promise.resolve();case 4:return(0,f.k_)(i),e.abrupt("return",m);case 6:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function w(e,r){var t=function(e,r,t,n){if(0===n)return e;for(var a=Math.round(3*n),i=new Array(2*a+1),o=0,l=-a;l<=a;l++){var u=Math.exp(-l*l/(n*n));i[l+a]=u,o+=u}for(var h=-a;h<=a;h++)i[h+a]/=o;for(var s=new Float32Array(e.length),f=0;f<t;f++)for(var c=0;c<r;c++){for(var v=0,d=0,p=-a;p<=a;p++)if(!(c+p<0||c+p>=r)){var m=i[p+a];v+=m*e[2*(f*r+(c+p))+0],d+=m*e[2*(f*r+(c+p))+1]}s[2*(f*r+c)+0]=v,s[2*(f*r+c)+1]=d}for(var g=new Float32Array(e.length),w=0;w<r;w++)for(var x=0;x<t;x++){for(var y=0,M=0,Z=-a;Z<=a;Z++)if(!(x+Z<0||x+Z>=t)){var k=i[Z+a];y+=k*s[2*((x+Z)*r+w)+0],M+=k*s[2*((x+Z)*r+w)+1]}g[2*(x*r+w)+0]=y,g[2*(x*r+w)+1]=M}return g}(r.data,r.width,r.height,e.smoothing);return e.interpolate?function(e,n){var a=Math.floor(e),i=Math.floor(n);if(a<0||a>=r.width)return[0,0];if(i<0||i>=r.height)return[0,0];var o=e-a,l=n-i,u=a,h=i,s=a<r.width-1?a+1:a,f=i<r.height-1?i+1:i,c=t[2*(h*r.width+u)],v=t[2*(h*r.width+s)],d=t[2*(f*r.width+u)],p=t[2*(f*r.width+s)],m=t[2*(h*r.width+u)+1],g=t[2*(h*r.width+s)+1];return[(c*(1-l)+d*l)*(1-o)+(v*(1-l)+p*l)*o,(m*(1-l)+t[2*(f*r.width+u)+1]*l)*(1-o)+(g*(1-l)+t[2*(f*r.width+s)+1]*l)*o]}:function(e,n){var a=Math.round(e),i=Math.round(n);return a<0||a>=r.width||i<0||i>=r.height?[0,0]:[t[2*(i*r.width+a)+0],t[2*(i*r.width+a)+1]]}}function x(e,r,t,n,a,o,l,u,h){var s=[],f=t,c=n,v=0,d=r(f,c),p=(0,i.Z)(d,2),m=p[0],g=p[1];m*=e.velocityScale,g*=e.velocityScale;var w,x,y=Math.sqrt(m*m+g*g);s.push({x:f,y:c,t:v,speed:y});for(var M=0;M<e.verticesPerLine;M++){var Z=r(f,c),k=(0,i.Z)(Z,2),b=k[0],I=k[1];b*=e.velocityScale,I*=e.velocityScale;var A=Math.sqrt(b*b+I*I);if(A<e.minSpeedThreshold)return s;var P=b/A,D=I/A;if(f+=P*e.segmentLength,c+=D*e.segmentLength,v+=e.segmentLength/A,Math.acos(P*w+D*x)>e.maxTurnAngle)return s;if(e.collisions){var F=Math.round(f*h),S=Math.round(c*h);if(F<0||F>l-1||S<0||S>u-1)return s;var V=o[S*l+F];if(-1!==V&&V!==a)return s;o[S*l+F]=a}s.push({x:f,y:c,t:v,speed:A}),w=P,x=D}return s}function y(e,r,t,n){for(var a=[],i=new c.Z,o=1/Math.max(e.lineCollisionWidth,1),l=Math.round(t*o),u=Math.round(n*o),h=new Int32Array(l*u),s=0;s<h.length;s++)h[s]=-1;for(var f=[],v=0;v<n;v+=e.lineSpacing)for(var d=0;d<t;d+=e.lineSpacing)f.push({x:d,y:v,sort:i.getFloat()});f.sort((function(e,r){return e.sort-r.sort}));for(var p=0,m=f;p<m.length;p++){var g=m[p],w=g.x,y=g.y;if(i.getFloat()<e.density){var M=x(e,r,w,y,a.length,h,l,u,o);if(M.length<2)continue;a.push(M)}}return a}function M(e,r){var t,n=new c.Z,i=e.reduce((function(e,r){return e+r.length}),0),o=new Float32Array(4*i),l=new Array(e.length),u=0,h=0,s=(0,a.Z)(e);try{for(s.s();!(t=s.n()).done;){var f,v=t.value,d=u,p=(0,a.Z)(v);try{for(p.s();!(f=p.n()).done;){var m=f.value;o[4*u+0]=m.x,o[4*u+1]=m.y,o[4*u+2]=m.t,o[4*u+3]=m.speed,u++}}catch(g){p.e(g)}finally{p.f()}l[h++]={startVertex:d,numberOfVertices:v.length,totalTime:v[v.length-1].t,timeSeed:r?n.getFloat():0}}}catch(g){s.e(g)}finally{s.f()}return{lineVertices:o,lineDescriptors:l}}function Z(e,r){var t,n=e.lineVertices,i=e.lineDescriptors,o=0,l=0,u=(0,a.Z)(i);try{for(u.s();!(t=u.n()).done;){var h=t.value;o+=2*h.numberOfVertices,l+=6*(h.numberOfVertices-1)}}catch(W){u.e(W)}finally{u.f()}var s=new Float32Array(9*o),f=new Uint32Array(l),c=0,v=0;function d(e,r,t,n,a,i,o,l){var u=9*c,h=0;s[u+h++]=e,s[u+h++]=r,s[u+h++]=1,s[u+h++]=t,s[u+h++]=i,s[u+h++]=o,s[u+h++]=n/2,s[u+h++]=a/2,s[u+h++]=l,c++,s[u+h++]=e,s[u+h++]=r,s[u+h++]=-1,s[u+h++]=t,s[u+h++]=i,s[u+h++]=o,s[u+h++]=-n/2,s[u+h++]=-a/2,s[u+h++]=l,c++}var p,m=(0,a.Z)(i);try{for(m.s();!(p=m.n()).done;){for(var g=p.value,w=g.totalTime,x=g.timeSeed,y=null,M=null,Z=null,k=null,b=null,I=null,A=0;A<g.numberOfVertices;A++){var P=n[4*(g.startVertex+A)+0],D=n[4*(g.startVertex+A)+1],F=n[4*(g.startVertex+A)+2],S=n[4*(g.startVertex+A)+3],V=null,_=null,U=null,q=null;if(A>0){V=P-y,_=D-M;var L=Math.sqrt(V*V+_*_);if(V/=L,_/=L,A>1){var T=V+b,O=_+I,C=Math.sqrt(T*T+O*O);T/=C,O/=C;var N=Math.min(1/(T*V+O*_),r);U=-(O*=N),q=T*=N}else U=-_,q=V;null!==U&&null!==q&&(d(y,M,Z,U,q,w,x,S),f[v++]=c-2,f[v++]=c,f[v++]=c-1,f[v++]=c,f[v++]=c+1,f[v++]=c-1)}y=P,M=D,Z=F,b=V,I=_,k=S}d(y,M,Z,-I,b,w,x,k)}}catch(W){m.e(W)}finally{m.f()}return{vertexData:s,indexData:f}}function k(e){var r,t=e.lineVertices,n=e.lineDescriptors,i=0,o=0,l=(0,a.Z)(n);try{for(l.s();!(r=l.n()).done;){var u=r.value.numberOfVertices-1;i+=4*u*2,o+=6*u*2}}catch(C){l.e(C)}finally{l.f()}var h,s,f,c,v,d,p,m,g,w,x,y,M,Z,k=new Float32Array(16*i),b=new Uint32Array(o),I=0,A=0;function P(){b[A++]=I-8,b[A++]=I-7,b[A++]=I-6,b[A++]=I-7,b[A++]=I-5,b[A++]=I-6,b[A++]=I-4,b[A++]=I-3,b[A++]=I-2,b[A++]=I-3,b[A++]=I-1,b[A++]=I-2}function D(e,r,t,n,a,i,o,l,u,h,s,f,c,v){for(var d=16*I,p=0,m=0,g=[1,2];m<g.length;m++)for(var w=g[m],x=0,y=[1,2,3,4];x<y.length;x++){var M=y[x];k[d+p++]=e,k[d+p++]=r,k[d+p++]=t,k[d+p++]=n,k[d+p++]=o,k[d+p++]=l,k[d+p++]=u,k[d+p++]=h,k[d+p++]=w,k[d+p++]=M,k[d+p++]=c,k[d+p++]=v,k[d+p++]=a/2,k[d+p++]=i/2,k[d+p++]=s/2,k[d+p++]=f/2,I++}}function F(e,r){var t=g+x,n=w+y,a=Math.sqrt(t*t+n*n),i=g*(t/=a)+w*(n/=a);t/=i,n/=i;var o=x+M,l=y+Z,u=Math.sqrt(o*o+l*l),k=x*(o/=u)+y*(l/=u);D(h,s,f,c,-n,t,v,d,p,m,-(l/=k),o/=k,e,r),P()}function S(e,r,t,n,a,i){if(g=x,w=y,x=M,y=Z,null==g&&null==w&&(g=x,w=y),null!=v&&null!=d){M=e-v,Z=r-d;var o=Math.sqrt(M*M+Z*Z);M/=o,Z/=o}null!=g&&null!=w&&F(a,i),h=v,s=d,f=p,c=m,v=e,d=r,p=t,m=n}function V(e,r){g=x,w=y,x=M,y=Z,null==g&&null==w&&(g=x,w=y),null!=g&&null!=w&&F(e,r)}var _,U=(0,a.Z)(n);try{for(U.s();!(_=U.n()).done;){var q=_.value;h=null,s=null,f=null,c=null,v=null,d=null,p=null,m=null,g=null,w=null,x=null,y=null,M=null,Z=null;for(var L=q.totalTime,T=q.timeSeed,O=0;O<q.numberOfVertices;O++)S(t[4*(q.startVertex+O)+0],t[4*(q.startVertex+O)+1],t[4*(q.startVertex+O)+2],t[4*(q.startVertex+O)+3],L,T);V(L,T)}}catch(C){U.e(C)}finally{U.f()}return{vertexData:k,indexData:b}}function b(e,r){var t=r.pixels,n=r.width,a=r.height,i=new Float32Array(n*a*2),o=r.mask||new Uint8Array(n*a*2);if(r.mask||o.fill(255),"vector-uv"===e)for(var l=0;l<n*a;l++)i[2*l+0]=t[0][l],i[2*l+1]=-t[1][l];else if("vector-magdir"===e)for(var u=0;u<n*a;u++){var s=t[0][u],f=(0,h.Vl)(t[1][u]),c=Math.cos(f-Math.PI/2),v=Math.sin(f-Math.PI/2);i[2*u+0]=c*s,i[2*u+1]=v*s}return{data:i,mask:o,width:n,height:a}}function I(e,r,t,n,a,i){return A.apply(this,arguments)}function A(){return A=(0,o.Z)((0,n.Z)().mark((function e(r,t,o,u,h,s){var f,c,m,g,w,x,y,M,Z,k,b,I,A,D,F,S,V,_,U,q,L,T,O;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=performance.now(),c=(0,v.C5)(t.spatialReference)){e.next=6;break}return e.next=4,P(r,t,o,u,h,s);case 4:return m=e.sent,e.abrupt("return",((0,l.Z)("esri-2d-profiler")&&p.info("I.7","loadImagery, early exit (ms)",Math.round(performance.now()-f)),(0,l.Z)("esri-2d-profiler")&&p.info("I.9","Number of parts",1),m));case 6:for(g=(0,i.Z)(c.valid,2),w=g[0],x=g[1],y=x-w,M=Math.ceil(t.width/y),Z=t.width/M,k=Math.round(o/M),b=t.xmin,I=[],A=performance.now(),D=0;D<M;D++)F=new d.Z({xmin:b,xmax:b+Z,ymin:t.ymin,ymax:t.ymax,spatialReference:t.spatialReference}),I.push(P(r,F,k,u,h,s)),b+=Z;return e.next=12,Promise.all(I);case 12:S=e.sent,(0,l.Z)("esri-2d-profiler")&&p.info("I.8","All calls to _fetchPart (ms)",Math.round(performance.now()-A)),(0,l.Z)("esri-2d-profiler")&&p.info("I.9","Number of parts",S.length),V={data:new Float32Array(o*u*2),mask:new Uint8Array(o*u),width:o,height:u},_=0,U=(0,a.Z)(S);try{for(U.s();!(q=U.n()).done;){for(L=q.value,T=0;T<L.height;T++)for(O=0;O<L.width;O++)_+O>=o||(V.data[2*(T*o+_+O)+0]=L.data[2*(T*L.width+O)+0],V.data[2*(T*o+_+O)+1]=L.data[2*(T*L.width+O)+1],V.mask[T*o+_+O]=L.mask[T*L.width+O]);_+=L.width}}catch(n){U.e(n)}finally{U.f()}return e.abrupt("return",((0,l.Z)("esri-2d-profiler")&&p.info("I.10","loadImagery, general exit (ms)",Math.round(performance.now()-f)),V));case 19:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function P(e,r,t,n,a,i){return D.apply(this,arguments)}function D(){return D=(0,o.Z)((0,n.Z)().mark((function e(r,t,a,i,o,l){var u,h,f,c,v;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u={requestProjectedLocalDirections:!0,signal:l},(0,s.pC)(o)&&(u.timeExtent=o),"imagery"!==r.type){e.next=9;break}return e.next=4,r.load({signal:l});case 4:return h=r.rasterInfo.dataType,e.next=7,r.fetchImage(t,a,i,u);case 7:return f=e.sent,e.abrupt("return",!f||(0,s.Wi)(f.pixelData)||(0,s.Wi)(f.pixelData.pixelBlock)?{data:new Float32Array(a*i*2),mask:new Uint8Array(a*i),width:a,height:i}:b(h,f.pixelData.pixelBlock));case 9:return e.next=11,r.load({signal:l});case 11:return c=r.rasterInfo.dataType,e.next=14,r.fetchPixels(t,a,i,u);case 14:return v=e.sent,e.abrupt("return",!v||(0,s.Wi)(v.pixelBlock)?{data:new Float32Array(a*i*2),mask:new Uint8Array(a*i),width:a,height:i}:b(c,v.pixelBlock));case 16:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}}}]);
//# sourceMappingURL=5345.14e614dc.chunk.js.map