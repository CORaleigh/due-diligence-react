"use strict";(self.webpackChunkdue_diligence_react=self.webpackChunkdue_diligence_react||[]).push([[150],{60150:function(e,r,t){t.r(r),t.d(r,{default:function(){return xe}});var n=t(37762),i=t(74165),o=t(15861),a=t(1413),u=t(15671),s=t(43144),l=t(11752),p=t(61120),d=t(60136),c=t(29388),y=t(27366),f=t(40281),v=t(10064),h=t(41691),b=t(100),m=t(92026),g=t(97642),w=t(66978),Z=t(94172),_=t(76672),C=t(35995),k=t(49861),F=(t(63780),t(25243),t(38511)),S=t(69912),x=t(25265),I=t(30651),O=t(27961),T=t(11936),j=t(6693),E=t(46671),P=t(56601),L=t(94566),G=t(6061),D=t(29598),R=t(71684),V=t(56811),N=t(99063),q=t(25899),M=t(45948),A=t(62594),U=t(25610),Q=t(37270),B=t(93882),J=t(44055),Y=t(94931),H=(t(78451),t(98689),t(57823),t(32066),t(49018)),z=t(34999),K=t(28189),W=(t(9014),t(93169),t(79056)),X=t(84652),$=t(54472),ee=t(18202),re=t(31201),te=t(47492),ne=t(40743),ie=t(12224),oe=t(77748),ae=t(85116),ue=t(81085),se=t(61574),le=["charts","editingEnabled","formTemplate","labelsVisible","labelingInfo","legendEnabled","minScale","maxScale","opacity","popupEnabled","popupTemplate","renderer","subtypeCode","templates","title","visible"],pe={key:"type",base:H.Z,errorContext:"renderer",typeMap:{simple:z.Z,"unique-value":K.Z,"class-breaks":Y.Z}},de=(0,U.v)(),ce=(0,te.d)({types:pe}),ye=0;function fe(e){var r=e.json.write;return"object"==typeof r?r.ignoreOrigin=!0:e.json.write={ignoreOrigin:!0},e}function ve(e){switch(e){case"point":case"multipoint":return se.xA.clone();case"polyline":return se.CJ.clone();case"polygon":case"multipatch":return se.z3.clone();default:return null}}function he(e,r){var t;return null==e?null:null===(t=r.subtypes)||void 0===t?void 0:t.find((function(r){return r.code===e}))}function be(e,r){var t=null;switch(r.geometryType){case"esriGeometryPoint":case"esriGeometryMultipoint":t="point";break;case"esriGeometryPolyline":t="line";break;case"esriGeometryPolygon":case"esriGeometryMultiPatch":t="polygon";break;default:r.type,t=null}var n={},i=he(e,r);if((0,m.pC)(i)){var o=i.defaultValues;for(var a in o)n[a]=o[a]}return n[r.subtypeField]=e,new ie.Z({name:"New Feature",drawingTool:t,prototype:{attributes:n}})}var me=function(e){(0,d.Z)(t,e);var r=(0,c.Z)(t);function t(e){var n;return(0,u.Z)(this,t),(n=r.call(this,e)).charts=null,n.editingEnabled=!0,n.fieldOverrides=null,n.fieldsIndex=null,n.formTemplate=null,n.id="".concat(Date.now().toString(16),"-subtype-sublayer-").concat(ye++),n.type="subtype-sublayer",n.labelsVisible=!0,n.labelingInfo=null,n.layerType="ArcGISFeatureLayer",n.legendEnabled=!0,n.listMode="show",n.minScale=0,n.maxScale=0,n.opacity=1,n.popupEnabled=!0,n.popupTemplate=null,n.subtypeCode=null,n.templates=null,n.title=null,n.visible=!0,n}return(0,s.Z)(t,[{key:"writeFieldOverrides",value:function(e,r,t){var n,i,o=this.fields,a=this.parent;if(o){i=[];var u=0;o.forEach((function(e){var r,t=e.name,n=e.alias,o=e.editable;if(e.visible){var s=null===a||void 0===a||null===(r=a.fields)||void 0===r?void 0:r.find((function(e){return e.name===t}));if(s){var l={name:t},p=!1;n!==s.alias&&(l.alias=n,p=!0),o!==s.editable&&(l.editable=o,p=!0),i.push(l),p&&u++}}})),0===u&&i.length===o.length&&(i=null)}else i=(0,X.d9)(e);(null===(n=i)||void 0===n?void 0:n.length)&&(0,ee.RB)(t,i,r)}},{key:"fields",get:function(){var e=this.parent,r=this.fieldOverrides,t=this.subtypeCode,i=null===e||void 0===e?void 0:e.fields;if(null===i||void 0===i||!i.length)return null;var o,a=e.subtypes,u=e.subtypeField,s=a.find((function(e){return e.code===t})),l=null===s||void 0===s?void 0:s.defaultValues,p=null===s||void 0===s?void 0:s.domains,d=[],c=(0,n.Z)(i);try{var y=function(){var e,n,i=o.value.clone(),a=i.name,s=null===r||void 0===r?void 0:r.find((function(e){return e.name===a}));if(i.visible=!r||!!s,s){var c=s.alias,y=s.editable;c&&(i.alias=c),!1===y&&(i.editable=!1)}var f=null!==(e=null===l||void 0===l?void 0:l[a])&&void 0!==e?e:null;i.defaultValue=a===u?t:f;var v=null!==(n=null===p||void 0===p?void 0:p[a])&&void 0!==n?n:null;i.domain=a===u?null:v?"inherited"===v.type?i.domain:v.clone():null,d.push(i)};for(c.s();!(o=c.n()).done;)y()}catch(f){c.e(f)}finally{c.f()}return d}},{key:"effectiveScaleRange",get:function(){return{minScale:this.minScale,maxScale:this.maxScale}}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",get:function(){if(this._isOverridden("renderer"))return this._get("renderer");var e=this.parent;return e&&!e.isTable&&"mesh"!==e.geometryType?function(e){return new z.Z({symbol:ve(e)})}(e.geometryType):null},set:function(e){(0,Q.YN)(e,this.fieldsIndex),this._override("renderer",e)}},{key:"readRendererFromService",value:function(e,r,t){var n,i;if("Table"===r.type)return null;var o,a=null===(n=r.drawingInfo)||void 0===n?void 0:n.renderer,u=ce(a,r,t),s=this.subtypeCode;if(null!=s&&function(e,r){return!!r&&"unique-value"===(null===e||void 0===e?void 0:e.type)&&"string"==typeof e.field&&e.field.toLowerCase()===r.toLowerCase()&&!e.field2&&!e.field3&&!e.valueExpression}(u,r.subtypeField)){var l,p=null===(l=u.uniqueValueInfos)||void 0===l?void 0:l.find((function(e){var r=e.value;return(r="number"==typeof r?String(r):r)===String(s)}));p&&(o=new z.Z({symbol:p.symbol}))}else"simple"!==(null===u||void 0===u?void 0:u.type)||(null===(i=u.visualVariables)||void 0===i?void 0:i.length)||(o=u);return o}},{key:"readRenderer",value:function(e,r,t){var n,i,o,a=null===r||void 0===r||null===(n=r.layerDefinition)||void 0===n||null===(i=n.drawingInfo)||void 0===i?void 0:i.renderer;if(a&&(null===(o=a.visualVariables)||void 0===o||!o.length))return ce(a,r,t)||void 0}},{key:"readTemplatesFromService",value:function(e,r){return[be(this.subtypeCode,r)]}},{key:"readTitleFromService",value:function(e,r){var t=he(this.subtypeCode,r);return(0,m.pC)(t)?t.name:null}},{key:"createPopupTemplate",value:function(e){var r=this,t=this.parent,n=this.fields,i=this.title;t&&(r={displayField:t.displayField,editFieldsInfo:t.editFieldsInfo,fields:n,objectIdField:t.objectIdField,title:i});return(0,ue.eZ)(r,e)}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"getFieldDomain",value:function(e){return this._getLayerDomain(e)}},{key:"hasUserOverrides",value:function(){var e=this;return le.some((function(r){return e.originIdOf(r)===x.s3.USER}))}},{key:"_getLayerDomain",value:function(e){var r=this.fieldsIndex.get(e);return r?r.domain:null}}]),t}((0,h.p)((0,g.R)((0,W.IG)($.Z))));(0,y._)([(0,k.Cb)({json:{write:{ignoreOrigin:!0}}})],me.prototype,"charts",void 0),(0,y._)([(0,k.Cb)({type:Boolean,nonNullable:!0,json:{name:"enableEditing",write:{ignoreOrigin:!0}}})],me.prototype,"editingEnabled",void 0),(0,y._)([(0,k.Cb)({readOnly:!0,json:{name:"layerDefinition.fieldOverrides",origins:{service:{read:!1}},write:{ignoreOrigin:!0,allowNull:!0}}})],me.prototype,"fieldOverrides",void 0),(0,y._)([(0,re.c)("fieldOverrides")],me.prototype,"writeFieldOverrides",null),(0,y._)([(0,k.Cb)((0,a.Z)((0,a.Z)({},de.fields),{},{readOnly:!0,json:{read:!1}}))],me.prototype,"fields",null),(0,y._)([(0,k.Cb)(de.fieldsIndex)],me.prototype,"fieldsIndex",void 0),(0,y._)([(0,k.Cb)({type:ne.Z,json:{name:"formInfo",write:{ignoreOrigin:!0}}})],me.prototype,"formTemplate",void 0),(0,y._)([(0,k.Cb)({type:String,readOnly:!0,json:{origins:{service:{read:!1}},write:{ignoreOrigin:!0}}})],me.prototype,"id",void 0),(0,y._)([(0,k.Cb)({readOnly:!0,json:{read:!1}})],me.prototype,"type",void 0),(0,y._)([(0,k.Cb)(fe((0,X.d9)(M.iR)))],me.prototype,"labelsVisible",void 0),(0,y._)([(0,k.Cb)({type:[oe.Z],json:{name:"layerDefinition.drawingInfo.labelingInfo",origins:{service:{read:!1}},read:{reader:ae.r},write:{ignoreOrigin:!0}}})],me.prototype,"labelingInfo",void 0),(0,y._)([(0,k.Cb)({type:["ArcGISFeatureLayer"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],me.prototype,"layerType",void 0),(0,y._)([(0,k.Cb)(fe((0,X.d9)(M.rn)))],me.prototype,"legendEnabled",void 0),(0,y._)([(0,k.Cb)({type:["show","hide"]})],me.prototype,"listMode",void 0),(0,y._)([(0,k.Cb)(function(){var e=(0,X.d9)(M.rO);return e.json.origins.service.read=!1,fe(e)}())],me.prototype,"minScale",void 0),(0,y._)([(0,k.Cb)(function(){var e=(0,X.d9)(M.u1);return e.json.origins.service.read=!1,fe(e)}())],me.prototype,"maxScale",void 0),(0,y._)([(0,k.Cb)({readOnly:!0})],me.prototype,"effectiveScaleRange",null),(0,y._)([(0,k.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0,json:{write:{ignoreOrigin:!0}}})],me.prototype,"opacity",void 0),(0,y._)([(0,k.Cb)()],me.prototype,"parent",void 0),(0,y._)([(0,k.Cb)(fe((0,X.d9)(M.C_)))],me.prototype,"popupEnabled",void 0),(0,y._)([(0,k.Cb)({type:J.Z,json:{name:"popupInfo",write:{ignoreOrigin:!0}}})],me.prototype,"popupTemplate",void 0),(0,y._)([(0,k.Cb)({readOnly:!0})],me.prototype,"defaultPopupTemplate",null),(0,y._)([(0,k.Cb)({types:pe,json:{write:{target:"layerDefinition.drawingInfo.renderer",ignoreOrigin:!0}}})],me.prototype,"renderer",null),(0,y._)([(0,F.r)("service","renderer",["drawingInfo.renderer","subtypeField","type"])],me.prototype,"readRendererFromService",null),(0,y._)([(0,F.r)("renderer",["layerDefinition.drawingInfo.renderer"])],me.prototype,"readRenderer",null),(0,y._)([(0,k.Cb)({type:Number,json:{origins:{service:{read:!1}},write:{ignoreOrigin:!0}}})],me.prototype,"subtypeCode",void 0),(0,y._)([(0,k.Cb)({type:[ie.Z],json:{name:"layerDefinition.templates",write:{ignoreOrigin:!0}}})],me.prototype,"templates",void 0),(0,y._)([(0,F.r)("service","templates",["geometryType","subtypeField","subtypes","type"])],me.prototype,"readTemplatesFromService",null),(0,y._)([(0,k.Cb)({type:String,json:{write:{ignoreOrigin:!0}}})],me.prototype,"title",void 0),(0,y._)([(0,F.r)("service","title",["subtypes"])],me.prototype,"readTitleFromService",null),(0,y._)([(0,k.Cb)({type:Boolean,nonNullable:!0,json:{name:"visibility",write:{ignoreOrigin:!0}}})],me.prototype,"visible",void 0);var ge=me=(0,y._)([(0,S.j)("esri.layers.support.SubtypeSublayer")],me),we=t(43957),Ze=t(26704),_e=t(21149),Ce="SubtypeGroupLayer";function ke(e,r){return new v.Z("layer:unsupported","Layer (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' ").concat(r),{layer:e})}var Fe=(0,U.v)(),Se=function(e){(0,d.Z)(y,e);var r=(0,c.Z)(y);function y(){var e;(0,u.Z)(this,y);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n)))._handles=new b.Z,e._sublayersCollectionChanged=!1,e.fields=null,e.fieldsIndex=null,e.outFields=null,e.subtypes=null,e.sublayers=new(f.Z.ofType(ge)),e.timeInfo=null,e.title="Layer",e.type="subtype-group",e.addHandles((0,Z.YP)((function(){return e.sublayers}),(function(r,t){return e._handleSublayersChange(r,t)}),Z.Z_)),e}return(0,s.Z)(y,[{key:"destroy",value:function(){var e;null!==(e=this.source)&&void 0!==e&&e.destroy(),this._handles=(0,m.SC)(this._handles)}},{key:"normalizeCtorArgs",value:function(e,r){return"string"==typeof e?(0,a.Z)({url:e},r):e}},{key:"load",value:function(e){var r=this,t=(0,m.pC)(e)?e.signal:null,n=this.loadFromPortal({supportedTypes:["Feature Service"]},e).catch(w.r9).then((0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.url){e.next=2;break}throw new v.Z("subtype-grouplayer:missing-url-or-source","SubtypeGroupLayer must be created with either a url or a portal item");case 2:if(null!=r.layerId){e.next=4;break}throw new v.Z("subtype-grouplayer:missing-layerid","layerId is required for a SubtypeGroupLayer created with url");case 4:return e.t0=r,e.next=7,r.createGraphicsSource(t);case 7:return e.t1=e.sent,e.abrupt("return",e.t0._initLayerProperties.call(e.t0,e.t1));case 9:case"end":return e.stop()}}),e)})))).then((function(){return r.finishLoadEditablePortalLayer(e)}));return this.addResolvingPromise(n),Promise.resolve(this)}},{key:"createQueryVersion",get:function(){var e;return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(null!==(e=this._get("createQueryVersion"))&&void 0!==e?e:0)+1}},{key:"editingEnabled",get:function(){return this.loaded&&this.capabilities.operations.supportsEditing&&this.userHasEditingPrivileges}},{key:"parsedUrl",get:function(){var e=(0,C.mN)(this.url);return null!=e&&null!=this.layerId&&(e.path=(0,C.v_)(e.path,this.layerId.toString())),e}},{key:"source",set:function(e){this._get("source")!==e&&this._set("source",e)}},{key:"readTitleFromService",value:function(e,r){var t=r.name;return this.url?(0,q.a7)(this.url,t):t}},{key:"addAttachment",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.JD)(this,r,t,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"updateAttachment",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.Y5)(this,r,t,n,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t,n){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.Jj)(this,r,t));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"on",value:function(e,r){return(0,l.Z)((0,p.Z)(y.prototype),"on",this).call(this,e,r)}},{key:"createGraphicsSource",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r){var n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.Hl)(t.e(2918).then(t.bind(t,72918)),r);case 2:return n=e.sent,o=n.default,e.abrupt("return",new o({layer:this}).load({signal:r}));case 5:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"createQuery",value:function(){var e=(0,A.rP)(this),r=this.sublayers.map((function(e){return e.subtypeCode}));return e.where=(0,_._)("".concat(this.subtypeField," IN (").concat(r.join(","),")"),this.definitionExpression),e}},{key:"deleteAttachments",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.FV)(this,r,t,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"fetchRecomputedExtents",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.Ci)(this,r,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"getFieldDomain",value:function(e,r){return this._getLayerDomain(e)}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryAttachments",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.SU)(this,r,t,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){var o,a,u,s,l,p,d,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return a=e.sent,u=null!==(o=_e.Z.from(r))&&void 0!==o?o:a.createQuery(),(s=(0,m.Pt)(u.outFields,[])).includes(this.subtypeField)||(s.push(this.subtypeField),u.outFields=s),e.next=8,a.source.queryFeatures(u,t);case 8:if(null!==(l=e.sent)&&void 0!==l&&l.features){p=(0,n.Z)(l.features);try{for(p.s();!(d=p.n()).done;)(c=d.value).layer=this._findSublayerForFeature(c),c.sourceLayer=this}catch(i){p.e(i)}finally{p.f()}}return e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.tD)(this,r,t,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.VG)(this,r,t,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.KE)(this,r,t,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"queryRelatedFeatures",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.kp)(this,r,t,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"queryRelatedFeaturesCount",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.C9)(this,r,t,Ce));case 1:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"write",value:function(e,r){var t,n=r.origin,i=r.layerContainerType,o=r.messages;if(this.isTable){if("web-scene"===n||"web-map"===n&&"tables"!==i)return null!==o&&void 0!==o&&o.push(ke(this,"using a table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===n&&"tables"===i)return null!==o&&void 0!==o&&o.push(ke(this,"using a non-table source cannot be written to tables in web maps")),null;return null!==(t=this.sublayers)&&void 0!==t&&t.length?(0,l.Z)((0,p.Z)(y.prototype),"write",this).call(this,e,r):(null!==o&&void 0!==o&&o.push(new v.Z("web-document-write:invalid-property","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' has invalid value for 'sublayers' property. 'sublayers' collection should contain at least one sublayer"),{layer:this})),null)}},{key:"serviceSupportsSpatialReference",value:function(e){return!!this.loaded&&(0,Ze.D)(this,e)}},{key:"_findSublayerForFeature",value:function(e){var r=this.fieldsIndex.get(this.subtypeField),t=e.attributes[r.name];return this.sublayers.find((function(e){return e.subtypeCode===t}))}},{key:"_getLayerDomain",value:function(e){var r=this.fieldsIndex.get(e);return r?r.domain:null}},{key:"_initLayerProperties",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._set("source",r),(n=r.sourceJSON)&&(this.sourceJSON=n,this.read(n,{origin:"service",url:this.parsedUrl})),!this.isTable){e.next=4;break}throw new v.Z("subtype-grouplayer:unsupported-source","SubtypeGroupLayer cannot be created using a layer with table source");case 4:if(null!==(t=this.subtypes)&&void 0!==t&&t.length){e.next=6;break}throw new v.Z("subtype-grouplayer:missing-subtypes","SubtypeGroupLayer must be created using a layer with subtypes");case 6:this._verifyFields(),(0,Q.UF)(this.timeInfo,this.fieldsIndex);case 7:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"hasDataChanged",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.gG)(this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_verifyFields",value:function(){var e,r,t,n=null!==(e=null===(r=this.parsedUrl)||void 0===r?void 0:r.path)&&void 0!==e?e:"undefined";this.objectIdField||console.log("SubtypeGroupLayer: 'objectIdField' property is not defined (url: "+n+")"),this.isTable||-1!==n.search(/\/FeatureServer\//i)||(null===(t=this.fields)||void 0===t?void 0:t.some((function(e){return"geometry"===e.type})))||console.log("SubtypeGroupLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+n+")")}},{key:"_handleSublayersChange",value:function(e,r){var t=this;r&&(r.forEach((function(e){e.parent=null})),this.handles.remove("sublayers-owner")),e&&(e.forEach((function(e){e.parent=t})),this._sublayersCollectionChanged=!1,this.handles.add([e.on("after-add",(function(e){e.item.parent=t})),e.on("after-remove",(function(e){e.item.parent=null})),e.on("after-changes",(function(){t._sublayersCollectionChanged=!0}))],"sublayers-owner"))}}]),y}((0,L.B)((0,P.o1)((0,j.h)((0,N.n)((0,V.M)((0,R.Q)((0,T.Y)((0,G.q)((0,D.I)((0,g.R)((0,E.N)((0,O.V)((0,h.p)(I.Z))))))))))))));(0,y._)([(0,k.Cb)({readOnly:!0})],Se.prototype,"createQueryVersion",null),(0,y._)([(0,k.Cb)({type:Boolean,readOnly:!0})],Se.prototype,"editingEnabled",null),(0,y._)([(0,k.Cb)((0,a.Z)((0,a.Z)({},Fe.fields),{},{readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}))],Se.prototype,"fields",void 0),(0,y._)([(0,k.Cb)(Fe.fieldsIndex)],Se.prototype,"fieldsIndex",void 0),(0,y._)([(0,k.Cb)(M.id)],Se.prototype,"id",void 0),(0,y._)([(0,k.Cb)({type:["show","hide","hide-children"]})],Se.prototype,"listMode",void 0),(0,y._)([(0,k.Cb)({value:"SubtypeGroupLayer",type:["SubtypeGroupLayer"]})],Se.prototype,"operationalLayerType",void 0),(0,y._)([(0,k.Cb)(Fe.outFields)],Se.prototype,"outFields",void 0),(0,y._)([(0,k.Cb)({readOnly:!0})],Se.prototype,"parsedUrl",null),(0,y._)([(0,k.Cb)()],Se.prototype,"source",null),(0,y._)([(0,k.Cb)({type:[B.Z],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],Se.prototype,"subtypes",void 0),(0,y._)([(0,k.Cb)({type:f.Z.ofType(ge),json:{origins:{service:{read:{source:"subtypes",reader:function(e,r,t){var n=e.map((function(e){var n=e.code,i=new ge({subtypeCode:n});return i.read(r,t),i}));return new(f.Z.ofType(ge))(n)}}}},name:"layers",write:{overridePolicy:function(e,r,t){var n=this.originOf("sublayers"),i=x.s3.PORTAL_ITEM,o=!0;if((0,x.M9)(n)===i&&(0,x.M9)(t.origin)>i){var a=e.some((function(e){return e.hasUserOverrides()}));o=this._sublayersCollectionChanged||a}return{enabled:o,ignoreOrigin:!0}}}}})],Se.prototype,"sublayers",void 0),(0,y._)([(0,k.Cb)({type:we.Z})],Se.prototype,"timeInfo",void 0),(0,y._)([(0,k.Cb)({json:{origins:{"portal-item":{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}}}})],Se.prototype,"title",void 0),(0,y._)([(0,F.r)("service","title",["name"])],Se.prototype,"readTitleFromService",null),(0,y._)([(0,k.Cb)({json:{read:!1}})],Se.prototype,"type",void 0);var xe=Se=(0,y._)([(0,S.j)("esri.layers.SubtypeGroupLayer")],Se)}}]);
//# sourceMappingURL=150.232bbe30.chunk.js.map